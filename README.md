# WebApp.EmailSender
Web application for sending email

Данный Web-сервис предназначен формировать и отправлять письма адресатам и логировать результат в БД. Он принимает POST запрос по url: /api/mails/. Тело запроса в формате json.

Метод обработки: 
 - Формирует email и выполняет отправку при помощи библиотеки MailKit. Обратно контроллер получает статус "OK", либо сообщение об ошибки.
 - Далее записывает результат в базу данных SQLServer. В записи указываются все поля, которые пришли в сообщении, а также дата создания и результат отправки в виде поля Result (значения OK/Failed) и FailedMessage (пустое, если нет ошибки).
 - Сервис способен ответить на GET запросы по url /api/mails/. В результате запроса на этот url выдается список всех отправленных сообщений, сохраненных в БД, в формате json.

База данных состоит из двух таблиц: EmailSenderInfo и Mails. Первая содержит guid Web-сервиса, вторая список отправленных писем, связанных с Web-сервисом по внешнему ключу. Это способствует подключению к одной базе данных несколько web-сервисов. Каждый отдельный сервис хранит свой Guid в файле "App_Data/Config/ThisSender.config"

Для разработки сервиса использовались Microsoft Visual Studio 2019, ASP.NET Core 3.1.
База данных SQL Server, Entity Framework Core 5.0.13.
